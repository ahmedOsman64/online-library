<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Reader - Online Library</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <header>
        <h1>Online Library</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="books.html">Books</a></li>
                <li><a href="upload.html">Upload Books</a></li>
                <li><a href="Edit Books.html">Edit Books</a></li>
            </ul>
        </nav>
    </header>

    <main class="reader-page">
        <div class="reader-container">
            <div class="reader-header">
                <h2 id="book-title">Loading book...</h2>
                <div class="reader-controls">
                    <button id="prev-page" title="Previous Page">‚Üê</button>
                    <span id="page-info">Page <span id="current-page">1</span> of <span id="total-pages">1</span></span>
                    <button id="next-page" title="Next Page">‚Üí</button>
                    <button id="toggle-theme" title="Toggle Dark Mode">üåì</button>
                </div>
            </div>
            <div id="book-content" class="book-content">
                <p>Loading book content...</p>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; <span id="current-year"></span> Online Library</p>
    </footer>

    <script>
        // Update copyright year
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // Reader functionality
        const bookTitle = document.getElementById('book-title');
        const bookContent = document.getElementById('book-content');
        const prevButton = document.getElementById('prev-page');
        const nextButton = document.getElementById('next-page');
        const currentPageSpan = document.getElementById('current-page');
        const totalPagesSpan = document.getElementById('total-pages');
        const themeToggle = document.getElementById('toggle-theme');

        let currentPage = 1;
        let totalPages = 1;
        let bookData = null;

        // Get book title from URL
        const urlParams = new URLSearchParams(window.location.search);
        const title = urlParams.get('book');

        if (title) {
            bookTitle.textContent = decodeURIComponent(title);
            loadBookContent(title);
        } else {
            bookContent.innerHTML = '<p class="error-message">No book specified</p>';
        }

        function loadBookContent(title) {
            // Simulate loading book content - In a real app, this would fetch from a server
            bookData = {
                title: title,
                pages: [
                    "Chapter 1: The Beginning\n\nThis is the first page of the book...",
                    "Chapter 2: The Middle\n\nThe story continues here...",
                    "Chapter 3: The End\n\nAnd here's how it ends..."
                ]
            };

            totalPages = bookData.pages.length;
            totalPagesSpan.textContent = totalPages;
            showPage(1);
        }

        function showPage(pageNum) {
            if (pageNum < 1 || pageNum > totalPages) return;
            
            currentPage = pageNum;
            currentPageSpan.textContent = currentPage;
            bookContent.textContent = bookData.pages[currentPage - 1];
            
            prevButton.disabled = currentPage === 1;
            nextButton.disabled = currentPage === totalPages;
        }

        // Event listeners
        prevButton.addEventListener('click', () => showPage(currentPage - 1));
        nextButton.addEventListener('click', () => showPage(currentPage + 1));
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft' && currentPage > 1) {
                showPage(currentPage - 1);
            } else if (e.key === 'ArrowRight' && currentPage < totalPages) {
                showPage(currentPage + 1);
            }
        });

        // Theme toggle
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
        });
    </script>
</body>
</html> 